## 它是什么
在分布式环境里，不可避免地会有一些依赖的服务会挂掉（从概率上说的）。
是一个库，通过给这些分布式服务之间的交互添加延迟容忍(latency tolerance)和容错逻辑(fault tolerance)来控制服务之间的交互。它通过隔离不同服务之间的访问点，停止级联错误，提供应急机制（fallback)来做到，都是用来提高系统的整体鲁棒性/弹性

从 2012 年变成熟的。

## 设计原则
* 防止任何单一的依赖，用光容器(比如 tomcat）里的用户线程
* 抖落负载，快速失败，而不是排队 （因为面向的是实时处理的场景）
* 尽可能提供应急（fallback）机制，来防止用户直接失败
* 使用隔离技术（比如 bulkhead，swimlane，circuit breaker模式）来限制任何一个依赖的影响
* 通过实时的指标、监控和告警来优化 time-to-discovery 
* 通过低延迟传播配置和支持动态修改配置来优化 time-to-recovery
* 保护依赖的 client 的所有执行，而不仅仅是网络流量

## Hystrix 如何完成目标
* 把所有外部系统（或者叫依赖）都放到 HystrixCommand 里，在单独的线程里执行
* 把超过你定义的阈值的执行都timeout。这个阈值配置为观测到的这个依赖的 p99.5 稍高一些
* 给每个依赖维护一个小的线程池，如果线程池满了，来的请求就立即丢掉，而不是排队
* 测量成功，失败，超时，线程的拒绝指标
* 使用熔断器来停止一段时间里给某个特定服务的请求，当错误率超过阈值，可以人工或者手工操作
* 当请求失败，被拒绝，超时，或者短路之后，执行 fallback 逻辑
* 几乎实时地检测指标和配置修改
