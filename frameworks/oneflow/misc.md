数据并行：适合中间数据比较多，而参数相对较少的情况。感觉就是 CV 模型呀，因为图像 数据 很大，而参数量比较小，因为是卷积
流水并行：适合中间数据较少，而参数相对较多的情况。stage 之间通信相对 all reduce 是廉价的。

GShard 是定义了一组：Replicate, Split, Shard 语义的 api，作为注解
Flex-FLow 是一套 DSL，需要修改模型 

oneflow 里有静态子图的概念，实现 checkpoint 时可以分析子图，删掉没用的。

共享资源形成的依赖：比如两个算子在执行过程中，会分配内存。而现有的框架都是分析发现算子的输入都 OK 了，就开始执行。这样会有分配失败，一直循环重试。

Oneflow 解决的思路：编译器分析每个 op 的最优内存配额，在运行时每个 op 的内存配额都是固定的，调度器在检查一个 op 是否可以被发射时，不仅看输入数据是否就绪 。而且看它的内存配额是否满足。否则不发射，一旦发射，这个 op 就可以一路畅通无阻 ，确保不会被阻塞。
